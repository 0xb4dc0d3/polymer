<!DOCTYPE html>
<html>
<head>
  <script src="../../../webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="../../polymer.html">
</head>
<body>
<dom-module id="asdf-asdf">
  <template>

  </template>
  <script>
    Polymer({
      is: 'asdf-asdf',
      properties: {
        value: {
          type: String,
          notify: true
        },

        linkedValue: {
          type: String,
          //notify: true,
          observer: 'linkedValueChanged'
        }
      },

      linkedValueChanged: function() {
        console.log('change value in observer');
        this.set('value', this.linkedValue);
        this.fire('linked-value-changed');
      }
    });
  </script>
</dom-module>

<asdf-asdf id="asdf"></asdf-asdf>

<script>
  asdf.addEventListener('linked-value-changed', function() {
    console.log('change value in event listener');
    asdf.value = 'THIS IS WRITE';
    console.log(asdf.value);
  });

  asdf.set('linkedValue','THIS IS WRONG!!!');
  console.log(asdf.value);
</script>
</body>
</html>
